# Compiler Construction - Custom Language Scanner

## Team Members

| Name | Roll Number |
| --- | --- |
| [Zaid Bin Umer] | [23i-0671] |
| [Muhammad Shaffan Ahmad] | [23i-0673] |



## Project Overview
This project implements a lexical analyzer (scanner/lexer) for a custom programming language using both **manual implementation** and **JFlex (automatic generation)**. It demonstrates the tokenization process, including handling identifiers, literals, operators, comments, and error detection.

## Project Structure

CompilerConstruction/
├── src/
│   ├── ManualScanner.java      # Hand-written lexical analyzer
│   ├── Token.java              # Token class definition
│   ├── TokenType.java          # Enumeration of token types
│   ├── SymbolTable.java        # Symbol table for identifier tracking
│   ├── ErrorHandler.java       # Lexical error reporting
│   ├── Scanner.jflex           # JFlex specification file
│   ├── Scanner.java            # Auto-generated by JFlex
│   ├── JFlexScannerTest.java   # Test harness
│   └── QuickScannerTest.java   # Quick diagnostic test
│
├── docs/
│   ├── Automata_Design.pdf     # DFA/NFA state diagrams
│   ├── LanguageGrammar.txt     # Formal language definition
│   └── FullTestResults.txt     # Proof of correctness
│
├── tests/
│   ├── test1.lang              # Valid tokens (7-class coverage)
│   ├── test2.lang              # Complex expressions
│   ├── test3.lang              # Functions and blocks
│   ├── test4.lang              # Lexical errors
│   └── test5.lang              # Comments and edge cases
│
└── README.md                   # This file

---

## Language Specification

### Language Name & File Extension

* **Language Name**: CompilerConstruction Custom Language
* **File Extension**: `.lang`
* **Scope**: Lexical Analysis (Token Recognition)

### Complete Keyword List

| Keyword | Meaning | Example |
| --- | --- | --- |
| `true` | Boolean literal representing true | `Flag = true;` |
| `false` | Boolean literal representing false | `Active = false;` |

### Identifier Rules

**Valid Identifiers:**

* Must start with an **uppercase letter** `[A-Z]`
* Followed by zero or more **lowercase letters, digits, or underscores** `[a-z0-9_]*`
* Maximum length: **31 characters**

**Examples:**

* **Valid:** `Count`, `Value_123`, `MyVar`, `A`
* **Invalid:** `count` (starts lowercase), `_var` (starts with underscore), `My-Var` (contains hyphen)

### Literal Formats

**1. Boolean Literals**

* Syntax: `true` or `false`
* Example: `Flag = true;`

**2. Integer Literals**

* Syntax: Optional sign `[+|-]`, followed by digits `[0-9]+`
* Example: `42`, `-15`, `+100`

**3. Floating-Point Literals**

* Syntax: Optional sign, digits, decimal point, digits (1-6 precision), optional exponent
* Max Precision: 6 digits after decimal point
* Example: `3.14`, `-0.001`, `1.5e10`
* Invalid: `3.` (no trailing digit), `1.2345678` (too much precision)

### Operator List with Precedence

| Operator | Meaning | Priority (1=High) |
| --- | --- | --- |
| `!` | Logical NOT | 1 |
| `*` | Multiplication | 2 |
| `/` | Division | 2 |
| `%` | Modulo | 2 |
| `+` | Addition / Unary Plus | 3 |
| `-` | Subtraction / Unary Minus | 3 |
| `<` | Less Than | 4 |
| `>` | Greater Than | 4 |
| `=` | Assignment | 5 |

### Comment Syntax

* **Single-Line Comments**: Start with `##` and continue to the end of the line.
* **Example**:

## This is a comment
Count = 10; ## Inline comment


---

## Sample Programs

### Sample 1: Arithmetic & Assignment

## Calculate simple values
A = 10;
B = 20;
Result = A + B * 2;


### Sample 2: Boolean Logic

## Check flags
Flag = true;
Check = !Flag;
Result = (X < Y);



### Sample 3: Function Structure

## Main function block
Main(Arg1, Arg2) {
    Val = Arg1 + Arg2;
    Return = Val;
}

---

## Compilation and Execution Instructions

### Prerequisites

* Java Development Kit (JDK) 8 or higher
* JFlex 1.9.1 (included/configured in project)

### Step 1: Compile the Project

Open your terminal in the main project folder and run:


cd src
javac *.java
cd ..


### Step 2: Run the Scanner (Test Suite)

To run the full test suite against all `.lang` files in the `tests/` directory:

java -cp src JFlexScannerTest



### Step 3: Run on a Specific File

To test a specific file:

java -cp src JFlexScannerTest -f tests/test1.lang



## Technical Implementation Details

### Scanner.jflex Configuration

The scanner is generated using JFlex with the following key rules:

* **Longest Match**: JFlex always selects the longest matching token.
* **Priority**: If lengths are equal, the order of rules in the `.jflex` file determines priority (e.g., Keywords > Identifiers).
* **Error Recovery**: The scanner is designed to report lexical errors (like malformed floats or invalid identifiers) and **continue scanning** rather than halting immediately.

### Error Handling

The `ErrorHandler` class tracks and reports:

* **InvalidIdentifier**: Starts with lowercase or exceeds length.
* **MalformedLiteral**: Float precision > 6 or missing digits.
* **InvalidCharacter**: Symbols not in the language alphabet.